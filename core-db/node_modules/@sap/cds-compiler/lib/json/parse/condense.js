/**
 * Transforms a json with location structure to a simple json.
 */

function toBasic(n) {
  if(n.type === 'object') return Object.create(null);
  if(n.type === 'array') return [];
  return n.value; // primitive
}

function getValue(o) {
  return o.value;
}

function condense(M) {
  let W = require("../walker.js")
  return W.walkAndBuild(M, getValue, toBasic);
}

module.exports = condense;
